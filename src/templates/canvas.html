<!doctype html>
<html lang="en" class="no-js">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://html5-templates.com/demo/infinite-scroll-image-gallery/" />
    <title>Taylor Swift Canvas</title>
    <meta name="description" content="Taylor Swift Spotify Canvas">
    <link rel="stylesheet" href="../static/style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="../static/script.js"></script>
</head>
<body>
	<p>&nbsp;</p>
	<h1>Taylor Swift Canvas Spotify Canvas</h1>
	<p style="padding: 10px 20px; text-align: center;">Keep scrolling down to see the canvas loading.</p>

<div id="gallery"></div>

<div id="loading">
	<img src="../static/_loading.gif" alt="loading" />
</div>

<div class="wrap-infinite-link">
	<a class="infinite-link">
		M&eacute;g t&ouml;bb k&eacute;p
	</a>
</div>
<a id="back2Top" title="Back to top" href="#">&#10148;</a>

<script>
	$(document).ready(function() {
		var csvFile = '../static/canvas.csv'; // Replace with your CSV file name
		var gallery = $('#gallery');

		$.get(csvFile, function(data) {
			var lines = data.split('\n');
			for (var i = 0; i < lines.length; i++) {
				var fields = lines[i].split(',');
				if (fields.length == 3) { // fixed length check to 3
					var canvasUrl = fields[0].trim(); // renamed to canvasUrl
					var albumName = fields[1].trim();
					var songName = fields[2].trim();

					var div = $('<div><p>' + songName + '</p><p>' + albumName + '</p></div>'); // added albumName
					var video = $('<video width="480" height="270" muted controls><source src="' + canvasUrl + '" type="video/mp4"></video>');

					gallery.append(div);
					gallery.append(video);
				}
			}
		});
	});
</script>
</body>
</html>